<h1 class="text-center">Crowd Control</h1>

<div class="hero-unit">
    <h1>
    	Come on in<br>
    </h1>
	<p>
    		Are you on the list?
    </p>
	
	<div class="control-group">

		<label class="control-label">
			Who you be?
		</label>    		
	
		<div class="controls">
			<select id = "guestType">
				<option value="couple">
					VIPs and DJs
				</option>
				<option value="guest">
					Party Peoples
				</option>
			</select>
		</div>
	</div>
	
	<div id="dj_couple">
		<%= form_for(resource, :as => resource_name, :url => session_path(resource_name)) do |f| %>
			<%= f.label :email %>
			<%= f.email_field :email, :autofocus => true %>

			<%= f.label :password %>
			<%= f.password_field :password %>

			<% if devise_mapping.rememberable? -%>
				<div><%= f.check_box :remember_me %> <%= f.label :remember_me %></div>
			<% end -%>

			<div><%= f.submit "Sign in", :class => "btn" %></div>
		<% end %>
	</div>

	<div id="guest">
		<%= form_for(@user, :url => guests_path) do |guest_f| %>
			<%= guest_f.label "Who you with?" %>
			<%= guest_f.select(:id, options_from_collection_for_select(User.where('dj_id IS NOT ?', nil), :id, :name)) %>

			<%= guest_f.label "Your name?" %>
			<%= guest_f.text_field :name %>
			
			<%= guest_f.label :password %>
			<%= guest_f.password_field :password %>

			<% if devise_mapping.rememberable? -%>
				<div><%= guest_f.check_box :remember_me %> <%= guest_f.label :remember_me %></div>
			<% end -%>

			<div><%= guest_f.submit "Sign in", :class => "btn" %></div>
		<% end %>
	</div>

</div>

<script>
	function checkValue() {
		var loginType = $( "#guestType").val();

		if (loginType === "guest"){
			$( "#dj_couple").hide();
			$( "#guest").fadeIn();
		}
		else{
			$( "#dj_couple").fadeIn();
			$( "#guest").hide();
		}
	}

	$(function() {
		$(" #guest").hide();
		$(" #guestType").change(checkValue);
	});
</script>